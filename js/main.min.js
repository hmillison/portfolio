!function(a,b){"function"==typeof define&&define.amd?define([],b(a)):"object"==typeof exports?module.exports=b(a):a.smoothScroll=b(a)}("undefined"!=typeof global?global:this.window||this.global,function(a){"use strict";var b,c,d,e,f={},g=!!a.document.querySelector&&!!a.addEventListener,h={speed:500,easing:"easeInOutCubic",offset:0,updateURL:!0,callbackBefore:function(){},callbackAfter:function(){}},i=function(a,b,c){if("[object Object]"===Object.prototype.toString.call(a))for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&b.call(c,a[d],d,a);else for(var e=0,f=a.length;f>e;e++)b.call(c,a[e],e,a)},j=function(a,b){var c={};return i(a,function(b,d){c[d]=a[d]}),i(b,function(a,d){c[d]=b[d]}),c},k=function(b,c){for(var d=c.charAt(0);b&&b!==a.document;b=b.parentNode)if("."===d){if(b.classList.contains(c.substr(1)))return b}else if("#"===d){if(b.id===c.substr(1))return b}else if("["===d&&b.hasAttribute(c.substr(1,c.length-2)))return b;return!1},l=function(a){return Math.max(a.scrollHeight,a.offsetHeight,a.clientHeight)},m=function(a){for(var b,c=String(a),d=c.length,e=-1,f="",g=c.charCodeAt(0);++e<d;){if(b=c.charCodeAt(e),0===b)throw new InvalidCharacterError("Invalid character: the input contains U+0000.");f+=b>=1&&31>=b||127==b||0===e&&b>=48&&57>=b||1===e&&b>=48&&57>=b&&45===g?"\\"+b.toString(16)+" ":b>=128||45===b||95===b||b>=48&&57>=b||b>=65&&90>=b||b>=97&&122>=b?c.charAt(e):"\\"+c.charAt(e)}return f},n=function(a,b){var c;return"easeInQuad"===a&&(c=b*b),"easeOutQuad"===a&&(c=b*(2-b)),"easeInOutQuad"===a&&(c=.5>b?2*b*b:-1+(4-2*b)*b),"easeInCubic"===a&&(c=b*b*b),"easeOutCubic"===a&&(c=--b*b*b+1),"easeInOutCubic"===a&&(c=.5>b?4*b*b*b:(b-1)*(2*b-2)*(2*b-2)+1),"easeInQuart"===a&&(c=b*b*b*b),"easeOutQuart"===a&&(c=1- --b*b*b*b),"easeInOutQuart"===a&&(c=.5>b?8*b*b*b*b:1-8*--b*b*b*b),"easeInQuint"===a&&(c=b*b*b*b*b),"easeOutQuint"===a&&(c=1+--b*b*b*b*b),"easeInOutQuint"===a&&(c=.5>b?16*b*b*b*b*b:1+16*--b*b*b*b*b),c||b},o=function(a,b,c){var d=0;if(a.offsetParent)do d+=a.offsetTop,a=a.offsetParent;while(a);return d=d-b-c,d>=0?d:0},p=function(){return Math.max(a.document.body.scrollHeight,a.document.documentElement.scrollHeight,a.document.body.offsetHeight,a.document.documentElement.offsetHeight,a.document.body.clientHeight,a.document.documentElement.clientHeight)},q=function(a){return a&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(a):{}},r=function(b,c){a.history.pushState&&(c||"true"===c)&&a.history.pushState(null,null,[a.location.protocol,"//",a.location.host,a.location.pathname,a.location.search,b].join(""))},s=function(a){return null===a?0:l(a)+a.offsetTop};f.animateScroll=function(b,c,f){var g=j(g||h,f||{}),i=q(b?b.getAttribute("data-options"):null);g=j(g,i),c="#"+m(c.substr(1));var k="#"===c?a.document.documentElement:a.document.querySelector(c),l=a.pageYOffset;d||(d=a.document.querySelector("[data-scroll-header]")),e||(e=s(d));var t,u,v,w=o(k,e,parseInt(g.offset,10)),x=w-l,y=p(),z=0;r(c,g.updateURL);var A=function(d,e,f){var h=a.pageYOffset;(d==e||h==e||a.innerHeight+h>=y)&&(clearInterval(f),k.focus(),g.callbackAfter(b,c))},B=function(){z+=16,u=z/parseInt(g.speed,10),u=u>1?1:u,v=l+x*n(g.easing,u),a.scrollTo(0,Math.floor(v)),A(v,w,t)},C=function(){g.callbackBefore(b,c),t=setInterval(B,16)};0===a.pageYOffset&&a.scrollTo(0,0),C()};var t=function(a){var c=k(a.target,"[data-scroll]");c&&"a"===c.tagName.toLowerCase()&&(a.preventDefault(),f.animateScroll(c,c.hash,b))},u=function(a){c||(c=setTimeout(function(){c=null,e=s(d)},66))};return f.destroy=function(){b&&(a.document.removeEventListener("click",t,!1),a.removeEventListener("resize",u,!1),b=null,c=null,d=null,e=null)},f.init=function(c){g&&(f.destroy(),b=j(h,c||{}),d=a.document.querySelector("[data-scroll-header]"),e=s(d),a.document.addEventListener("click",t,!1),d&&a.addEventListener("resize",u,!1))},f});